/* =========================================
   1. ГЛОБАЛЬНІ НАЛАШТУВАННЯ
   ========================================= */
:root {
  --circle-size: 60px;
  --icon-scale: 60%;
  --noise-img-dark: url('../assets/noise_dark.svg');   
  --noise-img-light: url('../assets/noise_light.svg'); 
  
  /* --- СТАБІЛЬНІ ФОНИ --- */
  --bg-base-dark: #121212; 
  --bg-base-light: #F9F9F9;

  /* --- АКЦЕНТНІ КОЛЬОРИ --- */
  --acc-winter: #3A6B48;      /* Хвойний */
  --rgb-winter: 58, 107, 72;  /* RGB для градієнтів */
  
  --acc-classic: #D4A017;     /* Золотий */
  --rgb-classic: 212, 160, 23;

  --acc-summer: #8BA846;      /* Лаймовий */
  --rgb-summer: 139, 168, 70;

  /* Поточні змінні (за замовчуванням Winter) */
  --accent: var(--acc-winter); 
  --accent-rgb: var(--rgb-winter);
  
  --text-light: #F5F1E0; 
  --text-dark: #121212; 
  --card: rgba(255,255,255,0.08); 
  
  --font-body: 'IBM Plex Sans', sans-serif; 
  --font-heading: 'STIX Two Text', serif;
  
  --main-bg: var(--bg-base-dark); /* Старт з темного */
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html.lenis, html.lenis body { height: auto; }
.lenis.lenis-smooth { scroll-behavior: auto !important; }
.lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
.lenis.lenis-stopped { overflow: hidden; }
.lenis.lenis-scrolling iframe { pointer-events: none; }

/* === БЛОКУВАННЯ ГОРИЗОНТАЛЬНОГО СКРОЛУ === */
html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden; 
  overscroll-behavior-x: none;
  
  font-family: var(--font-body);
  background-color: var(--main-bg);
  color: var(--text-light);
  line-height: 1.6;
  
  transition: background-color 0.5s ease, color 0.3s ease;
  position: relative;
  min-height: 100vh;
  -webkit-tap-highlight-color: transparent; /* Вимикаємо синє підсвічування тапу */
  -webkit-text-size-adjust: 100%;
}

body.no-scroll { overflow: hidden; }

/* ФОНОВІ ЕФЕКТИ */
.noise-bg {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  pointer-events: none; z-index: 1; 
  background-image: var(--noise-img-dark);
  background-repeat: repeat;
  background-size: 512px 512px; 
  opacity: 0.5; 
  transform: translateZ(0);
  animation: noise-flow 10s linear infinite;
  transition: background-image 0.3s ease, opacity 0.3s ease;
}

@keyframes noise-flow { 0% { background-position: 0 0; } 100% { background-position: 0 512px; } }

.syrup-glow {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    background: radial-gradient(circle, rgba(var(--accent-rgb), 0.4) 0%, rgba(var(--accent-rgb), 0) 70%);
    filter: blur(60px);
    will-change: transform, opacity;
    animation: pulse-syrup 6s ease-in-out infinite;
    z-index: -1; 
    transition: background 0.5s ease;
    max-width: 100vw; 
}

.product-glow { width: 500px; height: 500px; transform: translate(-50%, -60%); }
.hero-glow { width: 350px; height: 350px; }

/* Сяйво рецептів */
.recipe-glow {
    width: 350px; height: 350px;
    transform: translate(-50%, -50%);
    background: radial-gradient(circle, rgba(var(--accent-rgb), 0.4) 0%, transparent 80%);
    opacity: 0.6;
    transition: background 0.5s ease;
}
body.light .recipe-glow { 
    background: radial-gradient(circle, rgba(var(--accent-rgb), 0.25) 0%, transparent 80%); 
}
@media (max-width: 600px) {
    .recipe-glow { width: 280px; height: 280px; }
}

@keyframes pulse-syrup {
    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
    50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.6; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
}

body.light .syrup-glow { background: radial-gradient(circle, rgba(var(--accent-rgb), 0.25) 0%, rgba(var(--accent-rgb), 0) 70%); }

@media (hover: none) and (pointer: coarse), (max-width: 768px) {
    .noise-bg { animation: none; background-attachment: scroll; }
    .bottle-card img { filter: drop-shadow(0 5px 5px rgba(0,0,0,0.3)) !important; }
    .product-glow { width: 300px; height: 300px; filter: blur(40px); }
    .hero-glow { width: 250px; height: 250px; filter: blur(40px); }
}

/* === ЛОГІКА ТЕМ І АКЦЕНТІВ === */

body.light { 
    --main-bg: var(--bg-base-light); 
    color: var(--text-dark); 
}

body[data-product="winter"] { 
    --accent: var(--acc-winter); 
    --accent-rgb: var(--rgb-winter);
}
body[data-product="classic"] { 
    --accent: var(--acc-classic); 
    --accent-rgb: var(--rgb-classic);
}
body[data-product="summer"] { 
    --accent: var(--acc-summer); 
    --accent-rgb: var(--rgb-summer);
}

body.light .noise-bg { 
    background-image: var(--noise-img-light); 
    opacity: 0.08; 
}

body.light .card { --card: rgba(0,0,0,0.05); border-color: rgba(0,0,0,0.1); }
body.light .card:hover { border-color: var(--accent); }
body.light header, body.light footer { background: rgba(249, 249, 249, 0.95); } 
body.light .brand-text, body.light .hero-brand-text { color: var(--text-dark); }

body.light input, body.light select, body.light textarea { background: rgba(0,0,0,0.05); border-bottom: 1px solid rgba(0,0,0,0.2); color: var(--text-dark); }

h1, h2, h3, .edition { font-family: var(--font-heading); }

/* ХЕДЕР І ФУТЕР */
.section-divider { display: flex; align-items: center; justify-content: center; width: 100%; max-width: 400px; margin: 0 auto; opacity: 0.5; padding: 20px 0; position: relative; z-index: 2; }
.section-divider::before, .section-divider::after { content: ""; height: 1px; background: var(--accent); flex: 1; transition: background 0.3s; }
.divider-icon { color: var(--accent); margin: 0 15px; font-size: 16px; transform: rotate(45deg); width: 10px; height: 10px; border: 1px solid var(--accent); background: transparent; transition: all 0.3s; }

header { position: fixed; top: 0; left: 0; width: 100%; z-index: 50; display: flex; justify-content: space-between; align-items: center; padding: 14px 20px; background: rgba(18, 18, 18, 0.95); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border-bottom: 1px solid var(--accent); transition: border-color 0.3s ease; transform: translateZ(0); }
.brand-container { display: flex; align-items: center; gap: 12px; text-decoration: none; }

.brand-img { height: 32px; width: auto; display: block; transition: 0.3s; }
body.light .brand-img { filter: invert(1); }

.brand-text { font-family: var(--font-heading); font-size: 20px; font-weight: 600; letter-spacing: 2px; color: var(--text-light); text-transform: uppercase; transition: color 0.3s ease; }
.controls { display: flex; align-items: center; gap: 8px; }

footer { width: 100%; padding: 40px 20px; text-align: center; background: rgba(18, 18, 18, 0.95); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: 40px; border-top: 1px solid var(--accent); transition: border-color 0.3s ease; position: relative; z-index: 2; }
.socials { margin-bottom: 15px; display: flex; align-items: center; justify-content: center; gap: 20px; }
.socials a { color: inherit; text-decoration: none; transition: color 0.3s ease; font-weight: 500; font-size: 14px; position: relative; cursor: pointer; }
body.light .socials a { color: var(--text-dark); }
.socials a:hover, .socials a:active { color: var(--accent) !important; }

/* КНОПКИ */
.btn, .cta, .change-btn, .submit-btn { border: 1px solid var(--accent); color: var(--accent); background-color: var(--main-bg); padding: 8px 16px; font-size: 11px; cursor: pointer; border-radius: 50px; transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px; display: inline-block; text-decoration: none; font-family: var(--font-body); font-weight: 500; position: relative; z-index: 2; }
.btn:hover, .cta:hover, .change-btn:hover { background: var(--accent); color: white; }
.cta:hover { box-shadow: 0 0 15px rgba(var(--accent-rgb), 0.4); }

.floating-btn { position: fixed; bottom: 30px; z-index: 90; width: 50px; height: 50px; border-radius: 50%; background-color: rgba(18, 18, 18, 0.8); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border: 1px solid var(--accent); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.3s ease, background-color 0.3s ease, border-color 0.3s; padding: 0; box-shadow: 0 5px 15px rgba(0,0,0,0.3); will-change: transform; }
.floating-lang { right: 30px; }
.flag-circle { width: 38px; height: 38px; border-radius: 50%; overflow: hidden; border: 2px solid rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; }
.flag-circle svg { width: 100%; height: 100%; object-fit: cover; transform: scale(1.3); transform-origin: center; }
.floating-contact { left: 30px; box-shadow: 0 0 15px rgba(var(--accent-rgb), 0.4); animation: pulse 3s infinite; }
.floating-contact svg { width: 24px; height: 24px; fill: var(--accent); transition: fill 0.3s ease; }

@keyframes pulse { 
    0% { box-shadow: 0 0 0 0 rgba(var(--accent-rgb), 0.4); } 
    70% { box-shadow: 0 0 0 10px rgba(var(--accent-rgb), 0); } 
    100% { box-shadow: 0 0 0 0 rgba(var(--accent-rgb), 0); } 
}

body.light .floating-btn { background-color: rgba(245, 241, 224, 0.8); }
@media (hover: hover) { .floating-btn:hover { transform: translateY(-3px) scale(1.05); background-color: var(--accent); } .floating-contact:hover svg { fill: white; } }

/* ІНДИКАТОР КОШИКА */
.cart-badge { position: absolute; top: 0; right: 0; width: 12px; height: 12px; background: #ff3333; border-radius: 50%; display: none; transition: transform 0.2s ease; }
.cart-badge.pop { animation: pop-badge 0.4s ease; }
@keyframes pop-badge { 0% { transform: scale(1); } 50% { transform: scale(1.5); } 100% { transform: scale(1); } }

/* СЛАЙДЕР ТЕМИ */
.theme-switch-wrapper { display: flex; align-items: center; margin-left: 5px; }
.theme-switch { display: inline-block; height: 30px; position: relative; width: 56px; }
.theme-switch input { display: none; }
.slider { background-color: #1a1a1a; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 34px; display: flex; align-items: center; justify-content: space-between; padding: 0 6px; border: 1px solid var(--accent); }

.icon { width: 16px; height: 16px; transition: .4s; z-index: 1; fill: #fff; }
.icon-sun { opacity: 0; transform: scale(0.5); } 
.icon-moon { opacity: 1; filter: drop-shadow(0 0 3px rgba(255,255,255,0.6)); } 
.icon-moon path { opacity: 1 !important; fill: #ffffff; }
.knob { background-color: #fff; bottom: 3px; height: 22px; left: 4px; position: absolute; transition: .4s; width: 22px; border-radius: 50%; z-index: 2; box-shadow: 0 2px 5px rgba(0,0,0,0.5); }

input:checked + .slider { background-color: var(--accent); border-color: transparent; }
input:checked + .slider .knob { transform: translateX(26px); }
input:checked + .slider .icon-sun { opacity: 1; transform: scale(1); fill: #fff; }
input:checked + .slider .icon-moon { opacity: 0; transform: scale(0.5); }

/* МОДАЛЬНІ ВІКНА */
.modal { display: flex; align-items: center; justify-content: center; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.3s ease, visibility 0.3s ease; overflow-y: auto; padding: 20px; }
.modal.show { opacity: 1; visibility: visible; pointer-events: auto; }
.modal-content { background-color: var(--bg-base-dark); border: 1px solid var(--accent); padding: 30px; border-radius: 15px; width: 90%; max-width: 400px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5); color: var(--text-light); transform: scale(0.95); transition: transform 0.3s ease; max-height: none; overflow: visible; margin: auto; }
.modal-content::-webkit-scrollbar { display: none; }
.modal.show .modal-content { transform: scale(1); }
body.light .modal-content { background-color: var(--bg-base-light); color: var(--text-dark); border: 1px solid var(--accent); }
.close { color: var(--accent); float: right; font-size: 28px; font-weight: bold; cursor: pointer; position: absolute; right: 20px; top: 10px; z-index: 10; }

form { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
input, select, textarea { width: 100%; padding: 12px; border: none; border-bottom: 1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.05); color: inherit; font-family: var(--font-body); font-size: 16px; border-radius: 4px; outline: none; -webkit-appearance: none; }
textarea { resize: none; min-height: 50px; max-height: 200px; overflow-y: hidden; }
input:focus, textarea:focus { border-bottom-color: var(--accent); }
label { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.7; }
.submit-btn { width: 100%; margin-top: 10px; background-color: var(--accent); color: white; border: none; }
.submit-btn:hover { filter: brightness(1.1); }

#recipeText { text-align: justify; white-space: pre-line; }
#recipeText strong { color: var(--accent); font-size: 1.1em; text-transform: uppercase; letter-spacing: 1px; display: inline-block; margin-top: 15px; margin-bottom: 5px; }

.recipe-img-container { width: 100%; aspect-ratio: 1 / 1; border-radius: 15px; overflow: hidden; position: relative; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); flex-shrink: 0; }
.recipe-detail-img { width: 100%; height: 100%; object-fit: cover; display: block; }
.recipe-img-container::after { content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 40%; background: linear-gradient(to bottom, transparent, var(--bg-base-dark)); pointer-events: none; }
body.light .recipe-img-container::after { background: linear-gradient(to bottom, transparent, var(--bg-base-light)); }

@media (max-width: 600px) { .close { right: 15px; top: 10px; font-size: 32px; padding: 5px; } h2 { font-size: 28px; } }

/* ЧЕКБОКСИ І РАДІО */
.delivery-section { margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
.custom-check-label { display: flex; align-items: center; cursor: pointer; margin-bottom: 10px; gap: 10px; }
.custom-check-label input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
.checkmark-box { height: 20px; width: 20px; background-color: transparent; border: 1px solid var(--accent); display: flex; align-items: center; justify-content: center; transition: 0.2s ease; flex-shrink: 0; }
.custom-check-label input:checked ~ .checkmark-box { background-color: var(--accent); }
.checkmark-box::after { content: "✓"; display: none; color: var(--bg-base-dark); font-weight: 900; font-size: 14px; }
.custom-check-label input:checked ~ .checkmark-box::after { display: block; }
.label-text { font-size: 14px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.9; }

.delivery-container { background: rgba(0,0,0,0.2); border: 1px solid var(--accent); border-radius: 10px; padding: 15px; margin-top: 10px; position: relative; animation: slideDown 0.3s ease; }
.delivery-container.hidden { display: none; }
@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
.close-delivery { position: absolute; top: 5px; right: 10px; background: none; border: none; color: var(--accent); font-size: 20px; cursor: pointer; padding: 0; }
.radio-group { display: flex; gap: 20px; margin-bottom: 15px; margin-top: 5px; }
.payment-info { margin-top: 15px; font-size: 13px; color: var(--accent); font-weight: 600; text-align: center; border: 1px dashed var(--accent); padding: 8px; border-radius: 5px; }

body.light .delivery-container { background: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.1); }
body.light .payment-info { color: var(--text-dark); border-color: var(--text-dark); }
body.light .checkmark-box::after { color: #fff; }

/* HERO */
.hero { min-height: 100vh; min-height: 100svh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; padding-top: 80px; position: relative; z-index: 2; }
.logo-wrapper { position: relative; display: flex; justify-content: center; align-items: center; margin-bottom: 10px; }

.logo-img { 
  width: 260px; 
  max-width: 70vw; 
  height: auto; 
  filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3)); 
  transition: 0.3s; 
  position: relative; 
  z-index: 2; 
}
body.light .logo-img { filter: invert(1) drop-shadow(0 5px 15px rgba(0,0,0,0.3)); }

.hero-brand-text { font-family: var(--font-heading); font-size: clamp(32px, 5vw, 48px); letter-spacing: 6px; margin-bottom: 10px; color: var(--text-light); text-transform: uppercase; font-weight: 600; transition: color 0.3s ease; }
#tagline { margin-bottom: 30px; max-width: 600px; opacity: 0.9; font-size: 16px; }
section { padding: 60px 20px; max-width: 1100px; margin: auto; position: relative; z-index: 2; }
h2 { text-align: center; font-size: 34px; margin-bottom: 40px; font-weight: 600; }

.product-stage-container { width: 100%; height: 450px; position: relative; display: flex; justify-content: center; align-items: center; margin-bottom: 20px; perspective: 1000px; }
.bottle-stage { position: relative; width: 300px; height: 100%; display: flex; justify-content: center; align-items: center; }

/* АНІМАЦІЯ ПЛЯШОК */
.bottle-card { position: absolute; width: 240px; transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1); cursor: pointer; top: 50%; left: 50%; transform-origin: center center; pointer-events: auto; }
.bottle-card img { width: 100%; height: auto; display: block; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3)); will-change: transform; }
.bottle-card.active { z-index: 10; transform: translate(-50%, -50%) scale(1.1); opacity: 1; filter: none; }
.bottle-card.active img { animation: float 4s ease-in-out infinite; }
.bottle-card.on-right { transform: translate(30%, -50%) scale(0.7) rotate(5deg); opacity: 0.6; filter: blur(4px); z-index: 5; }
.bottle-card.on-left { transform: translate(-130%, -50%) scale(0.7) rotate(-5deg); opacity: 0.6; filter: blur(4px); z-index: 5; }

@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@media (max-width: 600px) { .bottle-card { width: 180px; } }

.product-info { display: flex; flex-direction: column; align-items: center; gap: 20px; text-align: center; max-width: 800px; margin: 0 auto; }
.product { display: flex; flex-direction: column; align-items: center; gap: 20px; }
.edition { font-size: 14px; letter-spacing: 2px; text-transform: uppercase; opacity: .9; margin-top: 10px; color: var(--accent); font-weight: 600; }
.product-desc { text-align: center; max-width: 600px; min-height: 5em; font-size: 15px; }

/* ЦІНА ТА КОШИК */
.price-container { display: flex; flex-direction: column; align-items: center; gap: 15px; margin-top: 10px; }
.price-tag { font-family: var(--font-heading); font-size: 32px; font-weight: 600; color: var(--accent); letter-spacing: 1px; }
.add-cart-btn { border: 1px solid var(--accent); color: var(--accent); background: transparent; padding: 12px 24px; font-size: 14px; cursor: pointer; border-radius: 50px; text-transform: uppercase; letter-spacing: 1px; font-weight: 600; transition: 0.1s ease; }
.add-cart-btn:hover { background: var(--accent); color: white; }
.add-cart-btn.clicked { transform: scale(0.95); background: rgba(var(--accent-rgb), 0.3); }

/* КОШИК */
.cart-item { display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.1); padding: 10px; border-radius: 8px; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.1); }
.cart-item-img { width: 40px; height: auto; }
.cart-item-info { flex-grow: 1; }
.cart-item-name { font-size: 14px; font-weight: 600; }
.cart-item-price { font-size: 12px; opacity: 0.7; }
.qty-controls { display: flex; align-items: center; gap: 10px; }
.qty-btn { width: 24px; height: 24px; border-radius: 50%; border: 1px solid var(--accent); background: transparent; color: var(--accent); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 16px; padding: 0; line-height: 1; padding-bottom: 2px; }
.qty-btn:disabled { opacity: 0.3; cursor: not-allowed; }
.delete-btn { background: transparent; border: none; color: #ff3333; cursor: pointer; font-size: 18px; }
body.light .cart-item { background: rgba(0,0,0,0.05); border-color: rgba(0,0,0,0.1); }

/* КАРУСЕЛЬ */
.recipes-section { position: relative; overflow: hidden; padding: 40px 0 100px 0; width: 100%; }
.carousel-container { position: relative; display: flex; align-items: center; justify-content: center; height: 500px; perspective: 1000px; z-index: 2; }
.carousel-track { position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }

.card { position: absolute; width: 300px; height: 420px; background: linear-gradient(var(--card), var(--card)), var(--bg-base-dark); border: 1px solid rgba(255,255,255,0.12); border-radius: 20px; padding: 20px; text-align: center; transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); display: flex; flex-direction: column; align-items: center; justify-content: space-between; cursor: pointer; box-shadow: 0 15px 35px rgba(0,0,0,0.3); opacity: 0; pointer-events: none; z-index: 0; }
.card.active { opacity: 1; z-index: 10; transform: translateX(0) scale(1.1); pointer-events: auto; border-color: var(--accent); filter: none; box-shadow: 0 30px 60px rgba(var(--accent-rgb), 0.15); }
.card.prev { opacity: 0.5; z-index: 5; transform: translateX(-110%) scale(0.85) rotateY(15deg); filter: blur(3px); pointer-events: auto; }
.card.next { opacity: 0.5; z-index: 5; transform: translateX(110%) scale(0.85) rotateY(-15deg); filter: blur(3px); pointer-events: auto; }

body.light .card { background: linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)), var(--bg-base-light); }
body.light .card.active { border-color: var(--accent); box-shadow: 0 30px 60px rgba(var(--accent-rgb), 0.2); }

@media (max-width: 600px) {
    .carousel-container { height: 420px; }
    .card { width: 220px; height: 340px; padding: 15px; }
    .card.prev { transform: translateX(-60%) scale(0.75); }
    .card.next { transform: translateX(60%) scale(0.75); }
    .card h3 { font-size: 18px; margin-bottom: 5px; }
    .card p { font-size: 12px; margin-bottom: 10px; -webkit-line-clamp: 3; }
    .card-img { height: 140px; margin-bottom: 10px; }
    .nav-btn { width: 40px; height: 40px; }
    .nav-btn.prev { left: 10px; }
    .nav-btn.next { right: 10px; }
}

.card-img { width: 100%; height: 180px; margin-bottom: 15px; background: transparent; border-radius: 0; display: flex; align-items: center; justify-content: center; overflow: hidden; }
.card-img img { width: 100%; height: 100%; object-fit: contain; transform: translateY(200px); filter: drop-shadow(0 -200px 0 var(--accent)); transition: filter 0.3s ease; } 
body.light .card-img img { filter: drop-shadow(0 -200px 0 var(--text-dark)); }

.card h3 { font-family: var(--font-heading); font-size: 22px; margin-bottom: 10px; color: var(--accent); text-transform: uppercase; letter-spacing: 1px; }
.card p { font-size: 13px; opacity: 0.9; line-height: 1.5; margin-bottom: 20px; flex-grow: 1; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; overflow: hidden; }

.card-link { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; color: var(--accent); border: 1px solid var(--accent); padding: 8px 20px; border-radius: 50px; transition: 0.3s; margin-top: auto; }
.card:hover .card-link { background: var(--accent); color: var(--bg-base-dark); }
body.light .card:hover .card-link { color: #fff; }

.nav-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(18, 18, 18, 0.4); border: 1px solid var(--accent); color: var(--accent); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 20; transition: 0.3s; backdrop-filter: blur(5px); }
.nav-btn:hover { background: var(--accent); fill: var(--bg-base-dark); }
.nav-btn svg { width: 24px; height: 24px; fill: var(--accent); }
.nav-btn:hover svg { fill: var(--bg-base-dark); }
body.light .nav-btn:hover svg { fill: #fff; }
.nav-btn.prev { left: 20px; }
.nav-btn.next { right: 20px; }
body.light .nav-btn { background: rgba(255, 255, 255, 0.5); }

.nav-btn.prod-prev { left: 5%; }
.nav-btn.prod-next { right: 5%; }
.nav-btn.hidden { opacity: 0; pointer-events: none; }
@media (max-width: 600px) { .nav-btn.prod-prev { left: 0; } .nav-btn.prod-next { right: 0; } }

.status-message { margin-top: 10px; text-align: center; font-size: 14px; height: 20px; }
.status-message.success { color: #4BB543; }
.status-message.error { color: #ff3333; }

/* Suggestions */
.input-group-relative { position: relative; width: 100%; }
.suggestions-list { position: absolute; top: 100%; left: 0; width: 100%; background: var(--bg-base-dark); border: 1px solid var(--accent); border-top: none; border-radius: 0 0 8px 8px; max-height: 200px; overflow-y: auto; z-index: 1000; list-style: none; display: none; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.suggestions-list.active { display: block; }
.suggestions-list li { padding: 10px; font-size: 14px; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,0.1); color: var(--text-light); transition: background 0.2s; }
.suggestions-list li:hover { background: var(--accent); color: var(--bg-base-dark); }

body.light .suggestions-list { background: var(--bg-base-light); border-color: var(--accent); }
body.light .suggestions-list li { color: var(--text-dark); border-bottom-color: rgba(0,0,0,0.1); }
body.light .suggestions-list li:hover { color: #fff; }

/* --- ОПТИМІЗАЦІЯ ДЛЯ МОБІЛЬНИХ (ANDROID) --- */
@media (max-width: 768px) {
    .noise-bg {
        animation: none; 
        background-attachment: scroll; 
        opacity: 0.3; 
    }

    header, footer, .modal-content, .floating-btn {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
    
    header { background: rgba(18, 18, 18, 0.98); }
    body.light header { background: rgba(249, 249, 249, 0.98); }
    
    .floating-btn { background-color: rgba(18, 18, 18, 0.95); }
    body.light .floating-btn { background-color: rgba(245, 241, 224, 0.95); }

    .hero-glow, .product-glow, .recipe-glow {
        filter: blur(30px); 
        opacity: 0.5;
    }
    
    /* Зручніші кнопки */
    .nav-btn {
        width: 50px;
        height: 50px; 
    }
    
    .card p {
        font-size: 14px;
        -webkit-line-clamp: 3; 
    }
    
    input, select, textarea {
        font-size: 16px !important; 
    }
    
    /* ВИПРАВЛЕНО: Прибираємо rule, що ламав позицію пляшок (transform: none) */
    /* Замість видалення ефекту, просто не міняємо його */
    .bottle-card:active, .bottle-card:hover { 
        /* Нічого не пишемо, щоб лишилась рідна анімація */
    }
}
